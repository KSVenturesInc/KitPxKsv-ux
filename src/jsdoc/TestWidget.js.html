<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>KitPxKsv Source: TestWidget.js</title>

	<!--[if lt IE 9]>
	<script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.tridium.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">KitPxKsv</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="KitPxKsv.html">nmodule/KitPxKsv/rc/KitPxKsv</a>
						</li>
						
						<li>
							<a href="TestWidget.html">nmodule/KitPxKsv/rc/TestWidget</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="tutorial-example.html">The Many Virtues of KitPxKsv</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: TestWidget.js</h1>
    
    <section>
        <article>
            <pre class="sunlight-highlight-javascript linenums">
/**
 * A module defining `TestWidget`.
 *
 * @module nmodule/KitPxKsv/rc/TestWidget
 */
define(['bajaux/Widget',
        'bajaux/mixin/subscriberMixIn',
        'jquery',
        'Promise',
        'hbs!nmodule/KitPxKsv/rc/template/TestWidget-structure',
		    'nmodule/KitPxKsv/rc/template/d3-min',
		    'nmodule/KitPxKsv/rc/template/liquidGauge',
        'css!nmodule/KitPxKsv/rc/KitPxKsv'], function (
        BaseEditor,
        subscriberMixin,
        $,
        Promise,
        tplTestWidgetStructure,
		    d3js,
		    liquidGauge) {
  'use strict';


/**
  Creates widget constructor and configures prototype chain
  This is going to remain almost 100% the same regardless of
  the widget being created
*/
  var TestWidget = function TestWidget() {
	  var that = this;
	
	BaseEditor.apply(this, arguments);
	
	that.properties()
	.add('title', 'Placeholder')
	.add({
		name: 'colorTest',
		value: 'white',
		typeSpec: 'gx:Color'
	});
	
  /** remember to call super constructor. Javascript won't do this for you */

    
    subscriberMixin(this);
  };

  TestWidget.prototype = Object.create(BaseEditor.prototype);
  TestWidget.prototype.constructor = TestWidget;
  
  TestWidget.prototype.gauge1 = null;

/**
  This defines a function that will return our widget size, formatted as an array
  with 2 entries, [height, width]
*/

function getSize(widget) {
  var jq = widget.jq;
  var sizeArray = [null, null];
  
  sizeArray[0] = jq.height;
  sizeArray[1] = jq.width;
  return sizeArray;
}

/**
  doInitialize is our setup function; This will need to set up
  our basic HTML structure, initialize any widgets, and other
  preparatory work done before we start putting in live values
*/
  TestWidget.prototype.doInitialize = function (dom) {
    var that = this;
	  dom.html('&lt;svg id="liquidGauge">&lt;/svg>&lt;style>.liquidFillGaugeText {font-family: Helvetica; font-weight: bold;}&lt;/style>');
	  
	  console.log(that);
	  console.log(getSize(TestWidget.prototype));
	
    var config1 = liquidFillGaugeDefaultSettings();
    config1.minValue = 0;
    config1.maxValue = 100;
	  var gauge1 = loadLiquidFillGauge("liquidGauge", 55, config1);
	  TestWidget.prototype.gauge1 = gauge1;
  };

/**
  This is the function we run when we load in values; We will usually have
  to add a subscriber and update function within this
*/
  TestWidget.prototype.doLoad = function (value) {
    var that = this;
    var input = this.jq().find('input');
    
    function update() {
      TestWidget.prototype.gauge1.update(parseInt(value.getOut().getValueDisplay()));
    }
    this.getSubscriber().attach('changed', update);
    update();
  };

  TestWidget.prototype.doRead = function () {
  };

/**
  Finally, we return the constructor function, and it is applied to the widget object
*/
  return TestWidget;
});
</pre>
        </article>
    </section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		KitPxKsv Copyright © 2018 Tridium. DocStrap Copyright © 2012-2013 the contributors to the JSDoc3 and DocStrap projects.
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a>
		on Mon Oct 01 2018 13:25:20 GMT-0400 (EDT) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
